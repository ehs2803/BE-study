# 배열(array)

배열은 같은 타입의 여러 변수를 하나의 묶음으로 다루는 것이다.

# 배열의 선언과 생성

### 배열의 선언 방법

```java
타입[] 변수이름;
타입 변수이름[];
```
```java
int[] score;
String[] name;
```

원하는 타입의 변수를 선언하고 변수 또는 타입에 배열임을 의미하는 대괄호를 붙이면 된다.
대괄호는 타입 뒤에 붙여도 되고, 변수이름 뒤에 붙여도 된다.

### 배열의 생성

배열은 선언한 다음에 배열을 생성해야 한다.
배열 선언은 단지 생성된 배열을 다루기 위한 참조변수를 위한 공간이 만들어지는 것이다.
배열을 생성해야만 비로소 값을 저장할 수 있는 공간이 만들어지는 것이다.

```java
타입[] 변수이름; // 배열을 선언. 배열을 다루기 위한 참조변수 선언
변수이름 = new 타입[길이]; // 배열 생성. 실제 저장공간을 생성
```

# 배열 인덱스

생성된 배열의 각 저장공간을 배열의 요소라고 한다.
요소에 접근할 때 '배열이름[인덱스]' 형식으로 접근한다.
인덱스는 배열의 요소마다 붙여진 일련번호이다.

**인덱스의 범위는 0부터 배열길이-1 이다**

유효한 범위를 벗어난 값을 index로 사용하는 것은 컴파일러가 걸러주지 못한다.
왜냐하면 배열의 index로 변수를 많이 사용는데, 변수의 값은 실행 시에 대입되므로 컴파일러는 이 값의 범위를 확인할 수 없다.
유효하지 않은 index로 사용하면, 컴파일 후 실행 시에 에러(ArrayIndexOutOfBoundException)가 발생한다.

# 배열의 길이

자바에서는 JVM이 모든 배열의 길이를 별도로 관리한다.

배열이름.length를 통해 배열의 길이에 대한 정보를 얻을 수 있다.

배열은 한번 생성하면 길이를 변경할 수 없기 때문에, 이미 생성된 배열의 길이는 변하지 않는다. 따라서 배열이름.length는 상수다. 

# 길이가 0인 배열

길이가 0인 배열도 생성이 가능하다.

```java
int[] arr = new int[0];
```
위와 같이 길이가 0인 배열을 만들 수 있다.


# 배열 길이 변경

배열 생성 후 배열에 저장할 공간이 부족한 경우는 더 큰 길이의 새로운 배열을 생성하고 기존 배열 값들을 복사하면 된다.

1. 더 큰 배열 새로 생성
2. 기존 배열의 내용을 새로운 배열에 복사

# 배열 초기화

배열은 생성과 동시에 자동적으로 자신의 타입에 해당하는 기본값으로 초기화된다.

혹은 for문을 통해 배열을 초기화할 수 있다.

```java
int[] score = new int[]{50,60,70,80,90}; // 배열의 생성과 초기화를 동시에
int[] score = {50,60,70,80,90}; // 배열의 생성과 초기화를 동시에
```
for문을 이용한 초기화는 저장하려는 값에 일정한 규칙이 있을 때 가능하다. 따라서 위와 같은 방법으로 초기화할 수 있다.

```java
int[] score;
int score = new int[]{50,60,70,80,90}; // ok
score = {50,60,70,80,90}; // error
```
```java
int result = add(new int[]{1,2,3,4,5}); // ok
int result = add({1,2,3,4,5}); // error
```
```java
int[] score = new int[0]; // 길이 0인 배열
int[] score = new int[]{}; // 길이 0인 배열
int[] score = {}; // 길이 0인 배열
```

# 배열 출력


```java
int[] arr = {1,2,3,4,5};
for(int i=0;i<arr.length;i++){
  System.out.println(arr[i]+" ");
}
```
기본적으로 for문을 사용해 배열을 출력한다.

```java
import java.util.*; // 추가해야됨.

int[] arr = {1,2,3,4,5};

System.out.println(Arrays.toString(arr)); // [1, 2, 3, 4, 5] 출력
```
더 간단한 방법은 Arrays.toString(array name)메서드를 사용하면 된다.
이 메서드는 배열의 모든 요소를 [첫번째 요소, 두번째 요소, ...] 형태로 출력한다.


```java
char[] chArr = {'a','b','c','d','e'};

System.out.println(Arrays.toString(chArr)); // abcd 출력
```
예외적으로 char 배열은 println 메소드로 출력하면 각 요소가 구분자없이 그대로 출력된다.

# 배열 복사

배열 복사 시 for문을 이용하는 방법이 있다.

System.arraycopy()를 이용한 배열 복사 방법이 있다. 보다 간단하고 빠르게 배열을 복사할 수 있다.
for문은 배열의 요소 하나하나에 접근해 복사하지만, arraycopy 메서드는 지정된 범위의 값들을 한번에 통째로 복사한다.
각 요소들이 연속적으로 저장되어 있다는 배열의 특성 때문에 가능하다.

```java
System.arraycopy(num, 0, newNum, 0, num.lenth);
```
위 코드는 num[0]에서 newNum[0]으로 num.length개의 데이터를 복사한다.



